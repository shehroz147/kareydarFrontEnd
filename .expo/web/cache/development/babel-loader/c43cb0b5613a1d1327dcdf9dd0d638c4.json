{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport server from \"../server/server\";\nexport var signIn = function signIn(user, token, navigation) {\n  return function _callee(dispatch) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"afcHalalUser\", JSON.stringify(user)));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"afcHalalToken\", token));\n\n          case 5:\n            dispatch({\n              type: \"SIGN_IN\",\n              payload: user\n            });\n            navigation.navigate(\"Home\");\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0.message);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};\nexport var signOut = function signOut(navigation) {\n  return function _callee2(dispatch) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            dispatch({\n              type: \"SIGN_OUT\"\n            });\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"afcHalalUserCart\"));\n\n          case 3:\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"afcHalalUser\"));\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"afcHalalToken\"));\n\n          case 7:\n            dispatch({\n              type: \"EMPTY_CART\"\n            });\n            navigation.navigate(\"Login\");\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var loggedInUser = function loggedInUser(user) {\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            dispatch({\n              type: \"SIGN_IN\",\n              payload: user\n            });\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var fetchProducts = function fetchProducts(setLoading, setFilteredProducts) {\n  return function _callee4(dispatch, getState) {\n    var _await$server$get, data;\n\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(server.get(\"/user/getProduct\"));\n\n          case 2:\n            _await$server$get = _context4.sent;\n            data = _await$server$get.data;\n            console.log(data);\n            dispatch({\n              type: \"FETCH_PRODUCTS\",\n              payload: data\n            });\n            setFilteredProducts(data);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var fetchFilterProducts = function fetchFilterProducts(setFilteredProduct, item) {\n  return function _callee5() {\n    var _await$server$post, data;\n\n    return _regeneratorRuntime.async(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(server.post(\"/user/getProductByCategory\", item));\n\n          case 2:\n            _await$server$post = _context5.sent;\n            data = _await$server$post.data;\n            console.log(data);\n            setFilteredProduct(data);\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var fetchOrders = function fetchOrders(setLoading, setOrders, _id) {\n  return function _callee6(dispatch, getState) {\n    var _await$server$post2, data;\n\n    return _regeneratorRuntime.async(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            setLoading(true);\n            _context6.next = 3;\n            return _regeneratorRuntime.awrap(server.post(\"/user/orders\", _id));\n\n          case 3:\n            _await$server$post2 = _context6.sent;\n            data = _await$server$post2.data;\n            setOrders(data);\n            setLoading(false);\n\n          case 7:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"names":["AsyncStorage","server","signIn","user","token","navigation","dispatch","setItem","JSON","stringify","type","payload","navigate","console","log","message","signOut","removeItem","loggedInUser","fetchProducts","setLoading","setFilteredProducts","getState","get","data","fetchFilterProducts","setFilteredProduct","item","post","fetchOrders","setOrders","_id"],"sources":["C:/Users/hahah/Desktop/att/attornea-lawyer/src/Actions/index.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport server from \"../server/server\";\r\n\r\nexport const signIn = (user, token, navigation) => async (dispatch) => {\r\n    // local storage needs to be implemented\r\n    try {\r\n        await AsyncStorage.setItem(\"afcHalalUser\", JSON.stringify(user));\r\n        await AsyncStorage.setItem(\"afcHalalToken\", token);\r\n        dispatch({\r\n            type: \"SIGN_IN\",\r\n            payload: user,\r\n        });\r\n        navigation.navigate(\"Home\");\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const signOut = (navigation) => async (dispatch) => {\r\n    dispatch({\r\n        type: \"SIGN_OUT\",\r\n    });\r\n    await AsyncStorage.removeItem(\"afcHalalUserCart\");\r\n    await AsyncStorage.removeItem(\"afcHalalUser\");\r\n    await AsyncStorage.removeItem(\"afcHalalToken\");\r\n    dispatch({ type: \"EMPTY_CART\" });\r\n    navigation.navigate(\"Login\");\r\n};\r\n\r\nexport const loggedInUser = (user) => async (dispatch) => {\r\n    dispatch({\r\n        type: \"SIGN_IN\",\r\n        payload: user,\r\n    });\r\n};\r\n\r\nexport const fetchProducts =\r\n    (setLoading, setFilteredProducts) => async (dispatch, getState) => {\r\n        // let productDetail;\r\n        //   setLoading(true);\r\n        const { data } = await server.get(\"/user/getProduct\");\r\n        console.log(data);\r\n        dispatch({ type: \"FETCH_PRODUCTS\", payload: data });\r\n        // alert('gg')\r\n        // console.log(\"data:\",data);\r\n        // productDetail = JSON.stringify(data);\r\n        // console.log(productDetail);\r\n        // setLoading(false);\r\n        // console.log(\"DATA:\",data);\r\n        setFilteredProducts(data);\r\n        // console.log(\"setFiltered:\",setFilteredProducts);\r\n\r\n        // return productDetail;\r\n\r\n        // alert(JSON.stringify(e.request))\r\n    };\r\n\r\nexport const fetchFilterProducts =\r\n    (setFilteredProduct, item) => async () => {\r\n        // let productDetail;\r\n        const { data } = await server.post(\"/user/getProductByCategory\", item);\r\n        // console.log(\"DATA:\",data);\r\n        console.log(data);\r\n        // dispatch({ type: \"FETCH_PRODUCTS\", payload: data.result});\r\n        // alert('gg')\r\n        // console.log(\"data:\",data);\r\n        // productDetail = JSON.stringify(data);\r\n        // console.log(productDetail);\r\n        // setLoading(false);\r\n        // console.log(\"DATA:\",data);\r\n        setFilteredProduct(data);\r\n        // console.log(\"setFiltered:\",setFilteredProducts);\r\n        // return data;\r\n        // return productDetail;\r\n\r\n        // alert(JSON.stringify(e.request))\r\n    };\r\n\r\n// export const fetchProduct = (product) => async (dispatch) => {\r\n//   dispatch({ type: \"FETCH_PRODUCT\", payload: product });\r\n// }; \r\n\r\n\r\nexport const fetchOrders =\r\n    (setLoading, setOrders, _id) => async (dispatch, getState) => {\r\n        // let productDetail;\r\n        setLoading(true);\r\n        const { data } = await server.post(\"/user/orders\", _id);\r\n        // console.log(data);\r\n        // dispatch({ type: \"FETCH_PRODUCTS\", payload: data});\r\n        // alert('gg')\r\n        setOrders(data);\r\n        setLoading(false);\r\n        // console.log(\"data:\",data);\r\n        // productDetail = JSON.stringify(data);\r\n        // console.log(productDetail);\r\n        // setLoading(false);\r\n        // console.log(\"DATA:\",data);\r\n        // console.log(\"data:\",data);\r\n        // console.log(\"data1:\",data);\r\n        // let data1 = Array.from(data);\r\n        // console.log(\"data2:\",data1);\r\n        // console.log(data);\r\n\r\n        // console.log(\"setFiltered:\",setFilteredProducts);\r\n\r\n        // return productDetail;\r\n\r\n        // alert(JSON.stringify(e.request))\r\n    };"],"mappings":"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"},"metadata":{},"sourceType":"module"}